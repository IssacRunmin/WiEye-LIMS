webpackJsonp([35],{MEGm:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("4YfN"),n=s.n(a),i=s("r4qm"),r={components:{draggable:s.n(i).a},props:["rowId"],data:function(){return{itemList:[],selectedList:[],isDragging:!1,delayedDragging:!1,dragOptions:{animation:0,group:"description",disabled:!1,ghostClass:"ghost"},pager:{page:1,rows:13,total:0}}},computed:{selected:function(){var t=[];return this.selectedList.forEach(function(e){t.push({personId:e.id,orderNum:e.orderNum})}),t}},watch:{isDragging:function(t){var e=this;t?this.delayedDragging=!0:this.$nextTick(function(){e.delayedDragging=!1})}},created:function(){this.getItemList()},methods:{onMove:function(t){var e=t.relatedContext,s=t.draggedContext,a=e.element,n=s.element;return!(a&&a.fixed||n.fixed)},getItemList:function(){var t=this;this.loading=!0;var e=this.pager,s=e.page,a=e.rows;this.$http.get("api/person",{params:n()({page:s,rows:a},this.queryForm)}).then(function(e){200===e.status?(t.itemList=e.data.rows,t.pager.total=e.data.total):t.$message.warning({message:e.body.message,duration:1500})},function(e){var s=e.response;t.$hp.resp(s)}).finally(function(){t.loading=!1})},onSaveItem:function(){var t=this;this.$http.put("api/testPerson/"+this.rowId,this.selected).then(function(e){200===e.status?t.$message.success({message:"操作成功",duration:1500,showClose:!0}):t.$message.warning({message:e.data.message,duration:1500})},function(e){var s=e.response;t.$hp.resp(s)})}}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onSaveItem()}}},[s("i",{staticClass:"fas fa-save",attrs:{"aria-hidden":"true"}}),t._v(" 保 存\n  ")]),t._v(" "),s("el-row",{staticClass:"mar-t-sm",attrs:{gutter:10}},[s("el-col",{attrs:{span:12}},[s("el-card",{staticClass:"title-card"},[s("template",{slot:"header"},[t._v("所有人员")]),t._v(" "),s("draggable",{staticClass:"list-group",attrs:{element:"ul",options:t.dragOptions,move:t.onMove},on:{start:function(e){t.isDragging=!0},end:function(e){t.isDragging=!1}},model:{value:t.itemList,callback:function(e){t.itemList=e},expression:"itemList"}},[s("transition-group",{attrs:{type:"transition",name:"flip-list"}},t._l(t.itemList,function(e){return s("li",{key:e.id,staticClass:"list-group-item"},[t._v("\n              "+t._s(e.cName)+"\n            ")])}),0)],1)],2)],1),t._v(" "),s("el-col",{attrs:{span:12}},[s("el-card",{staticClass:"title-card"},[s("template",{slot:"header"},[t._v("主项/兼项")]),t._v(" "),s("draggable",{attrs:{element:"span",options:t.dragOptions,move:t.onMove},model:{value:t.selectedList,callback:function(e){t.selectedList=e},expression:"selectedList"}},[s("transition-group",{staticClass:"list-group",attrs:{name:"no",tag:"ul"}},t._l(t.selectedList,function(e){return s("li",{key:e.id,staticClass:"list-group-item"},[t._v("\n              "+t._s(e.cName)+"\n            ")])}),0)],1)],2)],1)],1)],1)},staticRenderFns:[]},l=s("C7Lr")(r,o,!1,null,null,null);e.default=l.exports}});
//# sourceMappingURL=35.79428cf44a232f8a3484.js.map