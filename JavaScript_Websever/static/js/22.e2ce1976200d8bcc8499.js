webpackJsonp([22],{nrQ4:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=o("ZLEe"),a=o.n(l),r={name:"DynamicEdit",data:function(){return{options:[{value:1,label:1},{value:2,label:2}],tableData:[{rowGuid:"rx",sampleNumber:"样品编号",portName:"点位",cycle:"周期",degree:"次数",sampleType:"样品类型",dateControl:"2017-01-01",digitalControl:0,fileMust:"文本必填",dropdownControl:1,radio:!0,checkbox:"混合采样",dataTimeControl:"2018-11-10 00:00:00",textAreaControl:"文本区域控件",timeControl:"07:05"},{rowGuid:"rq",sampleNumber:"样品编号",portName:"点位",cycle:"周期1",degree:"次数",sampleType:"样品类型",dateControl:"2017-01-01",digitalControl:0,fileMust:"文本必填",dropdownControl:1,radio:!0,checkbox:"混合采样",dataTimeControl:"2018-11-10 00:00:00",textAreaControl:"文本区域控件1",timeControl:"07:05"},{rowGuid:"rqq",sampleNumber:"样品编号",portName:"点位",cycle:"周期2",degree:"次数",sampleType:"样品类型",dateControl:"2017-01-01",digitalControl:0,fileMust:"文本必填",dropdownControl:1,radio:!0,checkbox:"混合采样",dataTimeControl:"2018-11-10 00:00:00",textAreaControl:"文本区域控件2",timeControl:"07:05"}],showTableData:{dateControl:[],digitalControl:[],fileMust:[],dropdownControl:[],dataTimeControl:[],textAreaControl:[],timeControl:[]},reviseElement:{oldProperty:"",oldIndex:0},invalid:!1}},methods:{setShowStatus:function(){var e=this.showTableData,t=this.tableData.length;a()(e).forEach(function(o){for(var l=e[o],a=0;a<t;a++)l.push(!0)})},tableRowClassName:function(e){var t=e.row,o=e.rowIndex;this.$set(t,"index",o)},clickTableCell:function(e,t,o,l){var r=e.index,n=t.property;l&&l.stopPropagation();var i=this.reviseElement,s=i.oldIndex,d=i.oldProperty,u=this.showTableData;-1!==a()(this.showTableData).findIndex(function(e){return e===d})&&d&&u[d].splice(s,1,!0),this.reviseElement.oldProperty=n,this.reviseElement.oldIndex=r,u[n]&&u[n].splice(r,1,!1)},focusTableInput:function(){this.invalid=!0},blurTableInput:function(){this.invalid=!1},deleteTableData:function(e){var t=e.rowGuid;this.tableData=this.tableData.filter(function(e){return e.rowGuid!==t})}},created:function(){var e=this;this.setShowStatus();var t=this;document.onclick=function(){t.clickTableCell({index:0},{property:""})},document.onkeydown=function(){var o=t.invalid,l=window.event.keyCode,r=e.tableData.length,n=e.reviseElement.oldIndex,i=e.reviseElement.oldProperty;if(13!==l||o||(r>1&&n===r-1?n=0:r>1&&n<r-1&&n++),38!==l||o||(r>1&&0===n?n=r-1:r>1&&n>0&&n--),40!==l||o||(r>1&&n===r-1?n=0:r>1&&n<r-1&&n++),37===l&&!o){var s=a()(e.showTableData),d=s.findIndex(function(e){return e===i});s.length>1&&0===d?i=s[s.length-1]:s.length>1&&d>0&&(i=s[d-1])}if(39===l&&!o){var u=a()(e.showTableData),c=u.findIndex(function(e){return e===i});u.length>1&&c===u.length-1?i=u[0]:u.length>1&&c<u.length-1&&c>=0&&(i=u[c+1])}t.clickTableCell({index:n},{property:i})}}},n={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-card",[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.tableRowClassName,border:"",stripe:""},on:{"cell-click":e.clickTableCell}},[o("el-table-column",{attrs:{label:"序号",type:"index",align:"center",width:"50"}}),e._v(" "),o("el-table-column",{attrs:{label:"操作",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(e){return e.row,e.$index,[o("el-button",{attrs:{type:"primary",size:"samll"}},[o("i",{staticClass:"fas fa-pencil-alt"})])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"样品编号",prop:"sampleNumber",align:"center",width:"120","show-overflow-tooltip":""}}),e._v(" "),o("el-table-column",{attrs:{label:"点位",prop:"portName",align:"center",width:"120","show-overflow-tooltip":""}}),e._v(" "),o("el-table-column",{attrs:{label:"周期",prop:"cycle",align:"center",width:"60","show-overflow-tooltip":""}}),e._v(" "),o("el-table-column",{attrs:{label:"次数",prop:"degree",align:"center",width:"60","show-overflow-tooltip":""}}),e._v(" "),o("el-table-column",{attrs:{label:"样品类型",prop:"sampleType",align:"center",width:"120","show-overflow-tooltip":""}}),e._v(" "),o("el-table-column",{attrs:{label:"日期控件",prop:"dateControl",align:"center",width:"160","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row,a=t.$index;return[o("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:!e.showTableData.dateControl[a],expression:"!showTableData.dateControl[$index]"}],staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"选择日期"},on:{focus:e.focusTableInput,blur:e.blurTableInput},model:{value:l.dateControl,callback:function(t){e.$set(l,"dateControl","string"==typeof t?t.trim():t)},expression:"row.dateControl"}}),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:e.showTableData.dateControl[a],expression:"showTableData.dateControl[$index]"}]},[e._v(e._s(l.dateControl))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"数字控件",prop:"digitalControl",align:"center",width:"140","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row,a=t.$index;return[o("el-input-number",{directives:[{name:"show",rawName:"v-show",value:!e.showTableData.digitalControl[a],expression:"!showTableData.digitalControl[$index]"}],staticStyle:{width:"100%"},attrs:{"controls-position":"right",min:0},on:{focus:e.focusTableInput,blur:e.blurTableInput},model:{value:l.digitalControl,callback:function(t){e.$set(l,"digitalControl","string"==typeof t?t.trim():t)},expression:"row.digitalControl"}}),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:e.showTableData.digitalControl[a],expression:"showTableData.digitalControl[$index]"}]},[e._v(e._s(l.digitalControl))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"* 文本必填",prop:"fileMust",align:"center",width:"250","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row,a=t.$index;return[o("el-input",{directives:[{name:"show",rawName:"v-show",value:!e.showTableData.fileMust[a],expression:"!showTableData.fileMust[$index]"}],staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"},on:{focus:e.focusTableInput,blur:e.blurTableInput},model:{value:l.fileMust,callback:function(t){e.$set(l,"fileMust","string"==typeof t?t.trim():t)},expression:"row.fileMust"}}),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:e.showTableData.fileMust[a],expression:"showTableData.fileMust[$index]"}]},[e._v(e._s(l.fileMust))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"下拉控件",prop:"dropdownControl",align:"center",width:"180","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row,a=t.$index;return[o("el-select",{directives:[{name:"show",rawName:"v-show",value:!e.showTableData.dropdownControl[a],expression:"!showTableData.dropdownControl[$index]"}],staticStyle:{width:"100%"},on:{focus:e.focusTableInput,blur:e.blurTableInput},model:{value:l.dropdownControl,callback:function(t){e.$set(l,"dropdownControl","string"==typeof t?t.trim():t)},expression:"row.dropdownControl"}},e._l(e.options,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:e.showTableData.dropdownControl[a],expression:"showTableData.dropdownControl[$index]"}]},[e._v(e._s(l.dropdownControl))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"单选默认是",prop:"radio",align:"center",width:"100","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return t.$index,[o("div",[e._v(e._s(l.radio?"是":"否"))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"多选默认",prop:"checkbox",align:"center",width:"140","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return t.$index,[o("div",[e._v(e._s(l.checkbox))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"日期时间控件",prop:"dataTimeControl",align:"center",width:"225","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row,a=t.$index;return[o("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:!e.showTableData.dataTimeControl[a],expression:"!showTableData.dataTimeControl[$index]"}],staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"选择日期时间",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss"},on:{focus:e.focusTableInput,blur:e.blurTableInput},model:{value:l.dataTimeControl,callback:function(t){e.$set(l,"dataTimeControl",t)},expression:"row.dataTimeControl"}}),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:e.showTableData.dataTimeControl[a],expression:"showTableData.dataTimeControl[$index]"}]},[e._v(e._s(l.dataTimeControl))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"文本区域控件",prop:"textAreaControl",align:"center",width:"250","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row,a=t.$index;return[o("el-input",{directives:[{name:"show",rawName:"v-show",value:!e.showTableData.textAreaControl[a],expression:"!showTableData.textAreaControl[$index]"}],attrs:{type:"textarea",rows:1,autosize:"",placeholder:"请输入内容"},on:{focus:e.focusTableInput,blur:e.blurTableInput},model:{value:l.textAreaControl,callback:function(t){e.$set(l,"textAreaControl",t)},expression:"row.textAreaControl"}}),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:e.showTableData.textAreaControl[a],expression:"showTableData.textAreaControl[$index]"}]},[e._v(e._s(l.textAreaControl))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"时间控件",prop:"timeControl",align:"center",width:"140","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row,a=t.$index;return[o("el-time-picker",{directives:[{name:"show",rawName:"v-show",value:!e.showTableData.timeControl[a],expression:"!showTableData.timeControl[$index]"}],staticStyle:{width:"100%"},attrs:{placeholder:"选择时间",format:"HH:mm","value-format":"HH:mm"},on:{focus:e.focusTableInput,blur:e.blurTableInput},model:{value:l.timeControl,callback:function(t){e.$set(l,"timeControl",t)},expression:"row.timeControl"}}),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:e.showTableData.timeControl[a],expression:"showTableData.timeControl[$index]"}]},[e._v(e._s(l.timeControl))])]}}])})],1)],1)},staticRenderFns:[]},i=o("C7Lr")(r,n,!1,null,null,null);t.default=i.exports}});
//# sourceMappingURL=22.e2ce1976200d8bcc8499.js.map