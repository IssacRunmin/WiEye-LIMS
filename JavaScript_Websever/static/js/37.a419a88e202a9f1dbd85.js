webpackJsonp([37],{PJLq:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("aA9S"),o=l.n(a),i=l("ZLEe"),s=l.n(i),r=l("FxrV"),n={model:{prop:"rowId",event:"setRowId"},props:["rowId"],data:function(){return{loading:!1,url:"api/test",itemModel:{},rules:r.BasicInfoRules}},computed:{redAnalyzeMethodName:{get:function(){return this.itemModel.redAnalyzeMethodName},set:function(e){var t=this;this.itemModel.redAnalyzeMethodName=e,s()(this.$enum.analysisMethod).forEach(function(l){t.$enum.analysisMethod[l]===e&&(t.itemModel.redCountryStandard=l)})}}},created:function(){this.rowId?this.getItemOne():this.itemModel=this.getEmptyItem()},methods:{getEmptyItem:function(){return{analyzeMethodId:1,redAnalyzeMethodName:"",redCountryStandard:"",redYearSn:"",analyzeItemId:1,redAnalyzeItemName:"",sampleType:"",testCode:"",dimensionId:"",examLimitValue:"",examLimitValueLess:"",validTime:0,orderNum:0,mostSignificance:-1,mostDecimal:-1,testTimelen:0,basicWorkload:0,unitWorkload:0,cert:"",domainCode:"",testName:"",remark:"",isOutsourcing:!1,isCompleteField:!1,sampleTypeGroupId:1,groupName:"",samplingCharge:0,testingCharge:0,isQCP:!1,isQCB:!1,kValueFormart:3,bValueFormart:3,inputMode:0,phonetic:"",isUseFormula:!1,originalRecordId:1,isUseQTFormula:!1}},getItemOne:function(){var e=this;this.loading=!0,this.$http.get("api/test/"+this.rowId).then(function(t){200===t.status?e.itemModel=o()(e.getEmptyItem(),t.data):e.$message.warning({message:t.body.message,duration:1500})},function(t){var l=t.response;e.$hp.resp(l)}).finally(function(){e.loading=!1})},onSaveItem:function(){var e=this;this.$refs.form.validate(function(t){t&&e.$http[e.rowId?"put":"post"]("api/test",e.itemModel).then(function(t){200===t.status?(e.$message.success({message:(e.rowId?"修改":"新增")+"成功",duration:1500,showClose:!0}),e.itemModel=t.data,e.$emit("setRowId",e.itemModel.id),e.$emit("query")):e.$message.warning({message:t.data.message,duration:1500})},function(t){var l=t.response;e.$hp.resp(l)})})}}},m={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSaveItem()}}},[l("i",{staticClass:"fas fa-save",attrs:{"aria-hidden":"true"}}),e._v(" 保 存\n  ")]),e._v(" "),l("el-button",{on:{click:function(t){return e.$emit("close")}}},[l("i",{staticClass:"fas fa-times",attrs:{"aria-hidden":"true"}}),e._v(" 关 闭\n  ")]),e._v(" "),l("hr",{staticClass:"dashed"}),e._v(" "),l("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"form",attrs:{"label-position":"right","label-width":"131px",model:e.itemModel,rules:e.rules}},[l("el-row",{attrs:{gutter:10}},[l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"分析项目名称：",prop:"redAnalyzeItemName"}},[l("el-select",{model:{value:e.itemModel.redAnalyzeItemName,callback:function(t){e.$set(e.itemModel,"redAnalyzeItemName",t)},expression:"itemModel.redAnalyzeItemName"}},e._l(e.$enum.analysisItem,function(e,t){return l("el-option",{key:t,attrs:{value:e}})}),1)],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"分析方法名称：",prop:"redAnalyzeMethodName"}},[l("el-select",{model:{value:e.redAnalyzeMethodName,callback:function(t){e.redAnalyzeMethodName=t},expression:"redAnalyzeMethodName"}},e._l(e.$enum.analysisMethod,function(e,t){return l("el-option",{key:t,attrs:{value:e}})}),1)],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"是否启用公式："}},[l("el-radio",{attrs:{label:!0},model:{value:e.itemModel.isUseFormula,callback:function(t){e.$set(e.itemModel,"isUseFormula",t)},expression:"itemModel.isUseFormula"}},[e._v("是")]),e._v(" "),l("el-radio",{attrs:{label:!1},model:{value:e.itemModel.isUseFormula,callback:function(t){e.$set(e.itemModel,"isUseFormula",t)},expression:"itemModel.isUseFormula"}},[e._v("否")])],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"测试项目编码："}},[l("el-input",{model:{value:e.itemModel.testCode,callback:function(t){e.$set(e.itemModel,"testCode",t)},expression:"itemModel.testCode"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"国家标准："}},[l("el-input",{model:{value:e.itemModel.redCountryStandard,callback:function(t){e.$set(e.itemModel,"redCountryStandard",t)},expression:"itemModel.redCountryStandard"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"年度："}},[l("el-input",{model:{value:e.itemModel.redYearSn,callback:function(t){e.$set(e.itemModel,"redYearSn",t)},expression:"itemModel.redYearSn"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"样品类型：",prop:"sampleType"}},[l("el-select",{model:{value:e.itemModel.sampleType,callback:function(t){e.$set(e.itemModel,"sampleType",t)},expression:"itemModel.sampleType"}},e._l(e.$enum.sampleType,function(e,t){return l("el-option",{key:t,attrs:{label:e,value:t-0}})}),1)],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"测试资质：",prop:"cert"}},[l("el-select",{model:{value:e.itemModel.cert,callback:function(t){e.$set(e.itemModel,"cert",t)},expression:"itemModel.cert"}},e._l(e.$enum.cert,function(e,t){return l("el-option",{key:t,attrs:{label:e,value:t-0}})}),1)],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"计量单位：",prop:"dimensionId"}},[l("el-select",{attrs:{clearable:"",filterable:""},model:{value:e.itemModel.dimensionId,callback:function(t){e.$set(e.itemModel,"dimensionId",t)},expression:"itemModel.dimensionId"}},e._l(e.$enum.dimensionUnit,function(e,t){return l("el-option",{key:t,attrs:{label:e,value:t-0}})}),1)],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"分配时长："}},[l("el-input",{attrs:{type:"number"},model:{value:e.itemModel.testTimelen,callback:function(t){e.$set(e.itemModel,"testTimelen",e._n(t))},expression:"itemModel.testTimelen"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"现场数据："}},[l("el-radio",{attrs:{label:!0},model:{value:e.itemModel.isCompleteField,callback:function(t){e.$set(e.itemModel,"isCompleteField",t)},expression:"itemModel.isCompleteField"}},[e._v("是")]),e._v(" "),l("el-radio",{attrs:{label:!1},model:{value:e.itemModel.isCompleteField,callback:function(t){e.$set(e.itemModel,"isCompleteField",t)},expression:"itemModel.isCompleteField"}},[e._v("否")])],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"分包："}},[l("el-radio",{attrs:{label:!0},model:{value:e.itemModel.isOutsourcing,callback:function(t){e.$set(e.itemModel,"isOutsourcing",t)},expression:"itemModel.isOutsourcing"}},[e._v("是")]),e._v(" "),l("el-radio",{attrs:{label:!1},model:{value:e.itemModel.isOutsourcing,callback:function(t){e.$set(e.itemModel,"isOutsourcing",t)},expression:"itemModel.isOutsourcing"}},[e._v("否")])],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"质控空白："}},[l("el-radio",{attrs:{label:!0},model:{value:e.itemModel.isQCB,callback:function(t){e.$set(e.itemModel,"isQCB",t)},expression:"itemModel.isQCB"}},[e._v("是")]),e._v(" "),l("el-radio",{attrs:{label:!1},model:{value:e.itemModel.isQCB,callback:function(t){e.$set(e.itemModel,"isQCB",t)},expression:"itemModel.isQCB"}},[e._v("否")])],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"质控平行："}},[l("el-radio",{attrs:{label:!0},model:{value:e.itemModel.isQCP,callback:function(t){e.$set(e.itemModel,"isQCP",t)},expression:"itemModel.isQCP"}},[e._v("是")]),e._v(" "),l("el-radio",{attrs:{label:!1},model:{value:e.itemModel.isQCP,callback:function(t){e.$set(e.itemModel,"isQCP",t)},expression:"itemModel.isQCP"}},[e._v("否")])],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"样品有效期："}},[l("el-input",{attrs:{type:"number"},model:{value:e.itemModel.validTime,callback:function(t){e.$set(e.itemModel,"validTime",e._n(t))},expression:"itemModel.validTime"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"检出限："}},[l("el-input",{attrs:{type:"number"},model:{value:e.itemModel.examLimitValue,callback:function(t){e.$set(e.itemModel,"examLimitValue",e._n(t))},expression:"itemModel.examLimitValue"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"基础工作量："}},[l("el-input",{attrs:{type:"number"},model:{value:e.itemModel.basicWorkload,callback:function(t){e.$set(e.itemModel,"basicWorkload",e._n(t))},expression:"itemModel.basicWorkload"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"单位工作量："}},[l("el-input",{attrs:{type:"number"},model:{value:e.itemModel.unitWorkload,callback:function(t){e.$set(e.itemModel,"unitWorkload",e._n(t))},expression:"itemModel.unitWorkload"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"检测费金额："}},[l("el-input",{attrs:{type:"number"},model:{value:e.itemModel.testingCharge,callback:function(t){e.$set(e.itemModel,"testingCharge",e._n(t))},expression:"itemModel.testingCharge"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"采样费金额："}},[l("el-input",{attrs:{type:"number"},model:{value:e.itemModel.samplingCharge,callback:function(t){e.$set(e.itemModel,"samplingCharge",e._n(t))},expression:"itemModel.samplingCharge"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"有效位数："}},[l("el-input",{attrs:{type:"number"},model:{value:e.itemModel.mostSignificance,callback:function(t){e.$set(e.itemModel,"mostSignificance",e._n(t))},expression:"itemModel.mostSignificance"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"小数位数："}},[l("el-input",{attrs:{type:"number"},model:{value:e.itemModel.mostDecimal,callback:function(t){e.$set(e.itemModel,"mostDecimal",e._n(t))},expression:"itemModel.mostDecimal"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"斜率有效位数："}},[l("el-input",{attrs:{type:"number"},model:{value:e.itemModel.kValueFormart,callback:function(t){e.$set(e.itemModel,"kValueFormart",e._n(t))},expression:"itemModel.kValueFormart"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"截距小数位数："}},[l("el-input",{attrs:{type:"number"},model:{value:e.itemModel.bValueFormart,callback:function(t){e.$set(e.itemModel,"bValueFormart",e._n(t))},expression:"itemModel.bValueFormart"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"实验室编号："}},[l("el-input",{model:{value:e.itemModel.domainCode,callback:function(t){e.$set(e.itemModel,"domainCode",t)},expression:"itemModel.domainCode"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"排序值："}},[l("el-input",{attrs:{type:"number"},model:{value:e.itemModel.orderNum,callback:function(t){e.$set(e.itemModel,"orderNum",e._n(t))},expression:"itemModel.orderNum"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"录入方式："}},[l("el-radio",{attrs:{label:0},model:{value:e.itemModel.inputMode,callback:function(t){e.$set(e.itemModel,"inputMode",t)},expression:"itemModel.inputMode"}},[e._v("默认")]),e._v(" "),l("el-radio",{attrs:{label:1},model:{value:e.itemModel.inputMode,callback:function(t){e.$set(e.itemModel,"inputMode",t)},expression:"itemModel.inputMode"}},[e._v("生物多样性")])],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"拼音简写："}},[l("el-input",{model:{value:e.itemModel.phonetic,callback:function(t){e.$set(e.itemModel,"phonetic",t)},expression:"itemModel.phonetic"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"启用嵌套公式："}},[l("el-radio",{attrs:{label:!0},model:{value:e.itemModel.isUseQTFormula,callback:function(t){e.$set(e.itemModel,"isUseQTFormula",t)},expression:"itemModel.isUseQTFormula"}},[e._v("是")]),e._v(" "),l("el-radio",{attrs:{label:!1},model:{value:e.itemModel.isUseQTFormula,callback:function(t){e.$set(e.itemModel,"isUseQTFormula",t)},expression:"itemModel.isUseQTFormula"}},[e._v("否")])],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"小于检出限结果："}},[l("el-input",{model:{value:e.itemModel.examLimitValueLess,callback:function(t){e.$set(e.itemModel,"examLimitValueLess",t)},expression:"itemModel.examLimitValueLess"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:"备注："}},[l("el-input",{attrs:{type:"textarea",rows:2},model:{value:e.itemModel.remark,callback:function(t){e.$set(e.itemModel,"remark",t)},expression:"itemModel.remark"}})],1)],1)],1)],1)],1)},staticRenderFns:[]},d=l("C7Lr")(n,m,!1,null,null,null);t.default=d.exports}});
//# sourceMappingURL=37.a419a88e202a9f1dbd85.js.map