webpackJsonp([34],{h1YW:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("aA9S"),o=l.n(a),i={components:{PagingQuery:l("rZX8").a},props:["rowId"],data:function(){return{loading:!1,formLoading:!1,dialogVisible:!1,itemModel:{},curveModel:{},itemList:[],curveList:[],selectedIds:[],selectedCurveIds:[],queryForm:{sampleType:"",key:""},pager:{page:1,rows:5,total:0}}},created:function(){this.getItemList()},methods:{closeDialog:function(){this.dialogVisible=!1},changeSelected:function(e){this.selectedIds=e.map(function(e){return e.id})},changeSelectedCurve:function(e){this.selectedCurveIds=e.map(function(e){return e.id})},onClickAdd:function(){this.itemModel=this.getEmpeyItem(),this.dialogVisible=!0},onClickEdit:function(){this.getItemOne(),this.dialogVisible=!0},getEmpeyItem:function(){return{testId:"",testName:"",testPersonName:"",testDate:"",kValue:"",bValue:"",coefficient:"",remark:"",orderNum:"",curveType:"1",kRange:"",bRange:"",cRange:"",curveZero:0,type:1}},getEmpeyCurve:function(){return{standardCurveId:"",hValue:"",xValue:"",yValue:"",aValueTTZ:"",aValueTSF:"",lessBlank:"",aValueBG:"",orderNum:0,remark:""}},getItemOne:function(){var e=this;this.formLoading=!0,this.$http.get("api/test/"+this.rowId).then(function(t){200===t.status?e.itemModel=o()(e.getEmptyItem(),t.data):e.$message.warning({message:t.body.message,duration:1500})},function(t){var l=t.response;e.$hp.resp(l)}).finally(function(){e.formLoading=!1})},getItemList:function(){var e=this;this.loading=!0;var t=this.pager,l=t.page,a=t.rows;this.$http.get("api/standardCurve",{params:{page:l,rows:a,testId:this.rowId}}).then(function(t){200===t.status?(e.itemList=t.data.rows,e.pager.total=t.data.total):e.$message.warning({message:t.body.message,duration:1500})},function(t){var l=t.response;e.$hp.resp(l)}).finally(function(){e.loading=!1})}}},r={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onClickAdd()}}},[l("i",{staticClass:"fas fa-plus",attrs:{"aria-hidden":"true"}}),e._v(" 新 增\n  ")]),e._v(" "),l("el-button",{attrs:{type:"danger"}},[l("i",{staticClass:"fas fa-trash-alt",attrs:{"aria-hidden":"true"}}),e._v(" 删 除\n  ")]),e._v(" "),l("el-button",{attrs:{type:"primary"}},[l("i",{staticClass:"fas fa-cog",attrs:{"aria-hidden":"true"}}),e._v(" 配置有效位数\n  ")]),e._v(" "),l("el-table",{staticClass:"mar-t-sm",attrs:{border:"",stripe:"",full:"",data:e.itemList,loading:e.loading},on:{"selection-change":e.changeSelected}},[l("el-table-column",{attrs:{align:"center",type:"selection",width:"35"}}),e._v(" "),l("el-table-column",{attrs:{align:"center",label:"序号","min-width":"45",type:"index"}}),e._v(" "),l("el-table-column",{attrs:{align:"center",label:"操作",width:"55"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{type:"primary",size:"small",title:"编辑"},on:{click:function(l){return e.onClickEdit(t.row)}}},[l("i",{staticClass:"fas fa-pencil-alt",attrs:{"aria-hidden":"true"}})])]}}])}),e._v(" "),l("el-table-column",{attrs:{property:"kValue",label:"斜率","show-overflow-tooltip":""}}),e._v(" "),l("el-table-column",{attrs:{property:"coefficient",label:"相关系数","show-overflow-tooltip":""}}),e._v(" "),l("el-table-column",{attrs:{property:"testDate",label:"配置日期","show-overflow-tooltip":""}}),e._v(" "),l("el-table-column",{attrs:{property:"testPersonName",label:"配置人员姓名","show-overflow-tooltip":""}}),e._v(" "),l("el-table-column",{attrs:{property:"remark",label:"备注","show-overflow-tooltip":""}})],1),e._v(" "),l("paging-query",{attrs:{pager:e.pager},on:{query:function(t){return e.getItemList()}}}),e._v(" "),l("el-dialog",{attrs:{title:"标准曲线详情","append-to-body":"",visible:e.dialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t},close:e.closeDialog}},[l("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.formLoading,expression:"formLoading"}],ref:"form",attrs:{"label-position":"right","label-width":"111px"}},[l("el-row",{attrs:{gutter:10}},[l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"斜率范围："}},[l("el-input",{model:{value:e.itemModel.kRange,callback:function(t){e.$set(e.itemModel,"kRange",t)},expression:"itemModel.kRange"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"截距范围："}},[l("el-input",{model:{value:e.itemModel.bRange,callback:function(t){e.$set(e.itemModel,"bRange",t)},expression:"itemModel.bRange"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"相关系数范围："}},[l("el-input",{model:{value:e.itemModel.cRange,callback:function(t){e.$set(e.itemModel,"cRange",t)},expression:"itemModel.cRange"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"相关系数："}},[l("el-input",{model:{value:e.itemModel.coefficient,callback:function(t){e.$set(e.itemModel,"coefficient",t)},expression:"itemModel.coefficient"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"配置日期："}},[l("el-date-picker",{attrs:{format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",type:"date"},model:{value:e.itemModel.testDate,callback:function(t){e.$set(e.itemModel,"testDate",t)},expression:"itemModel.testDate"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"曲线零点："}},[l("el-input",{model:{value:e.itemModel.curveZero,callback:function(t){e.$set(e.itemModel,"curveZero",t)},expression:"itemModel.curveZero"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"斜率："}},[l("el-input",{model:{value:e.itemModel.kValue,callback:function(t){e.$set(e.itemModel,"kValue",t)},expression:"itemModel.kValue"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"截距："}},[l("el-input",{model:{value:e.itemModel.bValue,callback:function(t){e.$set(e.itemModel,"bValue",t)},expression:"itemModel.bValue"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"曲线类型："}},[l("el-radio",{attrs:{label:"1"},model:{value:e.itemModel.curveType,callback:function(t){e.$set(e.itemModel,"curveType",t)},expression:"itemModel.curveType"}},[e._v("直线")]),e._v(" "),l("el-radio",{attrs:{label:"2"},model:{value:e.itemModel.curveType,callback:function(t){e.$set(e.itemModel,"curveType",t)},expression:"itemModel.curveType"}},[e._v("Log")])],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"类型："}},[l("el-select",{model:{value:e.itemModel.type,callback:function(t){e.$set(e.itemModel,"type",t)},expression:"itemModel.type"}},e._l(e.$enum.curveType,function(e,t){return l("el-option",{key:t,attrs:{label:e,value:t-0}})}),1)],1)],1)],1)],1),e._v(" "),l("hr",{staticClass:"dashed"}),e._v(" "),l("el-tabs",[l("el-tab-pane",{attrs:{label:"数据列表"}},[l("el-table",{attrs:{border:"",stripe:"",data:e.curveList},on:{"selection-change":e.changeSelectedCurve}},[l("el-table-column",{attrs:{align:"center",type:"selection",width:"35"}}),e._v(" "),l("el-table-column",{attrs:{property:"xValue",label:"X值"}}),e._v(" "),l("el-table-column",{attrs:{property:"yValue",label:"Y值"}}),e._v(" "),2===e.itemModel.type?l("el-table-column",{attrs:{property:"aValueTTZ",label:"220吸光度"}}):e._e(),e._v(" "),2===e.itemModel.type?l("el-table-column",{attrs:{property:"aValueTSF",label:"275吸光度"}}):e._e(),e._v(" "),3===e.itemModel.type?l("el-table-column",{attrs:{property:"lessBlank",label:"减空白吸光度"}}):e._e(),e._v(" "),4===e.itemModel.type?l("el-table-column",{attrs:{property:"aValueBG",label:"背景吸光度"}}):e._e()],1)],1),e._v(" "),l("el-tab-pane",{attrs:{label:"数据曲线"}},[e._v("数据曲线")])],1),e._v(" "),l("div",{attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{type:"primary"}},[l("i",{staticClass:"fas fa-calculator",attrs:{"aria-hidden":"true"}}),e._v(" 计 算\n      ")]),e._v(" "),l("el-button",{attrs:{type:"primary"}},[l("i",{staticClass:"fas fa-save",attrs:{"aria-hidden":"true"}}),e._v(" 保 存\n      ")]),e._v(" "),l("el-button",{on:{click:function(t){return e.closeDialog()}}},[l("i",{staticClass:"fas fa-times",attrs:{"aria-hidden":"true"}}),e._v(" 关 闭\n      ")])],1)],1)],1)},staticRenderFns:[]},s=l("C7Lr")(i,r,!1,null,null,null);t.default=s.exports}});
//# sourceMappingURL=34.11a17b3d207ab5c0cd00.js.map